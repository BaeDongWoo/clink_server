<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.josam.clink.communityManager.CommunityManagerMapper">
	<insert id="insertComment" parameterType="com.josam.clink.communityPost.CommunityPostsVO" useGeneratedKeys="true" keyProperty="commentId">
		INSERT INTO Comment_Detail 
				(board_no, register_id, register_datetime, comment_content, parent_id)
		values(#{board_no}, #{register_id}, now(), #{comment_content}, #{parent_id})
	</insert>
	<select id="getPost" parameterType="INTEGER" resultType="com.josam.clink.communityPost.CommunityPostsVO">
		SELECT boardNo, boardTitle, boardContent, boardDate, boardWriter, boardLikes FROM Board WHERE boardNo=#{boardNo} ORDER BY boardDate DESC;
	</select>
	
	<select id="getComment" parameterType="INTEGER" resultType="com.josam.clink.communityManager.CommentVO">
		SELECT * FROM Comment_Detail WHERE board_no=#{board_no} ORDER BY register_datetime ASC;
	</select>
</mapper>